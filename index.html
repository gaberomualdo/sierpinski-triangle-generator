<!DOCTYPE html>
<html>
<head>
	<title>Sierpinski Triangle</title>
</head>
<body style="margin: 0; padding: 0;">
	<canvas id="canvas" style="height: 95vh; width: auto; margin: 0 auto; display: block;" width="1000" height="1000">Your browser does not support the HTML canvas tag.</canvas>

	<script>
	const sin60 = Math.sin(Math.PI/3);
	const cos60 = Math.cos(Math.PI/3);
	
	const c = document.getElementById("canvas");
	const ctx = c.getContext("2d");

	const createTriangle = (pos, sidelen) => {
		ctx.moveTo(...pos);
		ctx.lineTo(pos[0] + (cos60 * sidelen), pos[1] - (sin60 * sidelen));
		ctx.lineTo(pos[0] + sidelen, pos[1]);
		ctx.lineTo(...pos);
		ctx.fill();
	};

	const sierpinski = (pos, sidelen, depth) => {
		const newSidelen = sidelen / 2;
		const triangles = [
			pos,
			[ pos[0] + (newSidelen), pos[1] ],
			[ pos[0] + (cos60 * (newSidelen)), pos[1] - (sin60 * (newSidelen)) ]
		];
		if(depth == 0) {
			triangles.forEach((t) => {
				setTimeout(() => {
					createTriangle(t, newSidelen);
				}, 0);
			});
		} else {
			triangles.forEach((t) => {
				setTimeout(() => {
					sierpinski(t, newSidelen, depth - 1);
				}, 0);
			});
		}
	}

	sierpinski([0, c.height], c.width, 7);
	</script>
</body>
</html>